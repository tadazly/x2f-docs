---
sidebar_position: 3
---

# 配表规范

### 表名规范

- 表名请用英文字符，最好小驼峰（lowerCamel）命名，**不要用** 中文字符、特殊符号 和 Emoji💩。

- 表名会被用来生成类名，所以不要出现任何编程语言相关的保留关键字。

### 数据页规范

- 数据页 Sheet 名称使用 **表名**

- 数据页没有太多限制，字段的顺序可以与属性页不同，只需要字段名和属性页对应、类型符合规范即可。剩下的就让策划背锅。

- 废弃的字段数据页中可以删除该列。

- 为规范表数据结构及避免不必要的问题，尽量使用 `int (int32)` 作为 id 字段类型。 Unity 中数值字段类型也尽量统一使用 `int`。

### 属性页规范

- 属性页 Sheet 名称使用 **property** 或者 **属性**

以下规范基于 FlatBuffers [Schema (.fbs) 规则](https://flatbuffers.dev/evolution/#rules)：

- 属性页定义的字段顺序决定了 .fbs 文件中的字段顺序，所以不能随意更改，也不能随意删除！

- 新增的字段必须添加在属性页中的最后一行，理由同上。

- 废弃的字段不能删除，乖乖在 **属性** 列填上 `deprecated`。

- 字段名不能使用 `保留关键字`；不能使用 `add` 开头，不能为 `getType`，请避免与代码接口命名冲突。

- 字段名和变量名可以改，你得记得把代码也更新了。

- 字段类型尽量别动，改完老数据可能爆炸。

- 别乱改默认值。

#### 默认值

字段的 **默认值**（ D 列），如果不填，默认标量类型是 `0`，其他类型是 `null`。

:::caution
只有 **标量** 和 **枚举** 能设置默认值，你猜是为什么。
:::

#### 属性

字段的 **属性**（ E 列），请参考[官方文档](https://flatbuffers.dev/schema/#attributes)，如果填了会补充在 .fbs 文件中字段的右边，一般用的上的就 `deprecated` 和 `required`。常见的如下：

属性|用途
-|-
deprecated|废弃字段
required|必填字段，非标量使用，没有数据就报错
key|向量中排序和查找的关键字字段
id|自定义字段编号（用于版本兼容）
force_align|强制对齐
bit_flags|枚举值可组合